<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="utility.css">
    <title>Swarify - Web Player: Music for everyone</title>
    <link rel="icon" type="image/svg+xml" href="fav.svg">
    <script src="https://sdk.scdn.co/spotify-player.js"></script>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
     <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
   
</head>

<body>

   
    <div id="splash-screen" class="splash-screen">
    <img src="swarify.svg" alt="Swarify Logo" class="splash-logo">
    <div class="loading-spinner"></div>
</div>
    <div class="container flex bg-black" style="max-width: 100% !important; width: 100% !important;">
        <div class="left sidebar">
            <div class="close-btn">×</div>
            <div class="home bg-grey rounded m-1 p-1">
                <div class="logo"><img width="110" src="swarify.svg" alt=""></div>
                <ul>
                    <li><img class="invert" src="home.svg" alt="home">Home</li>

                </ul>
            </div>

            <div class=" bg-grey rounded m-1 p-1">
                <div class="heading">
                
                </div>

              

               <footer class="swarify-footer">
    <div class="swarify-footer-container">
        <nav class="swarify-footer-nav">
            <ul class="swarify-footer-links">
                <li><a href="index2.html#legal">Legal</a></li>
                <li><a href="index2.html#privacy-policy">Privacy Center</a></li>
                <li><a href="index2.html#privacy-policy">Privacy Policy</a></li>
                <li><a href="index2.html#privacy-policy">Cookies</a></li>
                <li><a href="index2.html#privacy-policy">About Ads</a></li>
            </ul>
        </nav>
        <p class="swarify-footer-copyright">&copy; 2025 Swarify AB</p>
    </div>
</footer>
            </div>


        </div>
        <!-- Added pb-24 to ensure content is not hidden behind the fixed playbar -->
        <!-- Adjusted padding-bottom for the right container to match mobile playbar height -->
        <div class="right bg-grey rounded pb-[70px]">
            <div class="top-bar">
                <div class="header">
                    <div class="nav">
                        
                        <div class="hamburgerContainer">

                            <img width="40" class="invert hamburger" src="hamburger.svg" alt="">
                            <!-- Removed the two unused SVG buttons here -->
                        </div>
                    </div>

                    <div class="search-box">
                        <span class="search-icon">
                            <img src="search.svg" alt="Search" />
                        </span>
                        <input type="text" id="search-input" placeholder="What do you want to play?">
                        <span class="divider"></span>

                        <button id="voice-search-btn" class="voice-search-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24px" height="24px">
            <path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.2-3c0 3.53-2.92 6.43-6.4 6.43S5.6 14.53 5.6 11H4c0 4.17 3.13 7.64 7.2 8.16V22h1.6v-2.84c4.07-.52 7.2-3.99 7.2-8.16h-1.6z"/>
        </svg>
    </button>
                    </div>
                    <div class="buttons">
                        <button class="signupbtn" id="top-signup-btn">Sign up</button>
                        <button class="loginbtn" id="top-login-btn">Log in</button>

                        <div id="user-avatar-container" class="user-avatar-container hidden">
                            <div id="user-avatar" class="user-avatar">G</div> <!-- Initial 'G' for Guest or first letter of name -->
                            <div id="user-dropdown" class="user-dropdown">
                                <span id="dropdown-username" class="dropdown-username"></span>
                                <button id="dropdown-logout-btn" class="dropdown-logout-btn">Log out</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

          

            <!-- New: Fixed Top Heading for Current Playing Album -->
           

     <div class="trending-carousel-container">
    <div class="carousel-slides"></div>
    <div class="carousel-content-overlay">
        <div class="carousel-text-content">
            <h2 id="carousel-song-title"></h2>
            <p id="carousel-song-details"></p>
        </div>
        <div class="carousel-actions">
        <button id="carousel-play-btn" aria-label="Play Song">
    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="48" stroke="white" stroke-width="4" fill="rgba(0,0,0,0.5)"/>
        <polygon class="play-icon" points="40,30 70,50 40,70" fill="white"/>
        <g class="pause-icon hidden" fill="white">
            <rect x="35" y="30" width="10" height="40" />
            <rect x="55" y="30" width="10" height="40" />
        </g>
    </svg>
</button>
            <button id="carousel-add-btn" aria-label="Add to playlist">
                <span>+</span>
            </button>
        </div>
    </div>
    <div class="carousel-dots"></div>
</div>

<section class="record-breaking-section">
    <div class="record-breaking-content">
        <div class="text-content">
            <h2 class="section-super-title">This Month's</h2>
            <h1 class="section-main-title">Record Breaking Albums !</h1>
            <p class="section-description">
           
            </p>
            <div class="action-buttons">
                <button class="listen-now-btn">Listen Now</button>
                <button class="add-to-queue-btn">Add To Queue</button>
            </div>
            <div class="mini-album-carousel-wrapper">
                <button class="mini-carousel-nav prev">&lt;</button>
                <div class="mini-album-carousel" id="record-breaking-albums-container">
                    </div>
                <button class="mini-carousel-nav next">&gt;</button>
            </div>
        </div>
        <div class="artist-image-container">
            <img src="https://cdn.jsdelivr.net/gh/jhasonu7/music-album@main/Gemini_Generated_Image_4twn384twn384twn.png
" alt="Artist performing on stage">
        </div>
    </div>
</section>

<section class="record-breaking-section2">
    <div class="record-breaking-content2">
        <div class="text-content2">
             <h2 class="section-super-title2">Explore The </h2>
            <h1 class="section-main-title2">Popular Artist of All Time !</h1>
            <p class="section-description2">

            </p>
            <div class="action-buttons2">
                <button class="listen-now-btn2">Listen Now</button>
                <button class="add-to-queue-btn2">Add To Queue</button>
            </div>
            <div class="mini-album-carousel-wrapper2">
                <button class="mini-carousel-nav2 prev2">&lt;</button>
                <div class="mini-album-carousel2" id="record-breaking-albums-container2">
                </div>
                <button class="mini-carousel-nav2 next2">&gt;</button>
            </div>
        </div>
        <div class="artist-image-container2">
            <img src="https://cdn.jsdelivr.net/gh/jhasonu7/music-album@main/Gemini_Generated_Image_u3qky4u3qky4u3qk.png
" alt="Artist performing on stage">
        </div>
    </div>
</section>

            <!-- New section for "Explore More Albums" -->
            <div class="spotifyPlaylists" id="explore-more-albums-section">
                <div class="section-heading">
                    <h1>Explore More Albums</h1>
                </div>
                <div class="cardcontainer" id="explore-more-albums-cards">
                    <!-- Dynamic album cards will be inserted here by JavaScript -->
                </div>
            </div>

       <div id="albumOverlay" class="album-overlay hidden">
    <div id="album-overlay-scroll-content" class="album-overlay-content">
       <div id="album-header-content" class="album-header">
    <img id="albumDetails-cover" src="https://placehold.co/250x250/000/fff?text=Album" alt="Album Cover" class="album-cover" />
    <div class="album-info">
        <h1 id="albumDetails-title">Album Title</h1>
        <div class="artist-info-container">
            
            <p id="albumDetails-artist">Artist Name</p>
        </div>
        <p id="albumDetails-meta">Album • Year • Genre</p>
    </div>
</div>
<div class="album-actions-container">
    <div class="album-buttons-left">
        <button class="action-btn" id="album-add-btn" aria-label="Add to playlist">
            <svg xmlns="http://www.w3.org/2000/svg" height="28px" viewBox="0 0 24 24" width="28px" fill="#a7a7a7">
                <path d="M0 0h24v24H0V0z" fill="none"/>
                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
            </svg>
        </button>
        <button class="action-btn" id="album-download-btn" aria-label="Download">
            <svg xmlns="http://www.w3.org/2000/svg" height="28px" viewBox="0 0 24 24" width="28px" fill="#a7a7a7">
                <path d="M0 0h24v24H0V0z" fill="none"/>
                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
            </svg>
        </button>
        <button class="action-btn" id="album-options-btn" aria-label="More options">
            <svg xmlns="http://www.w3.org/2000/svg" height="28px" viewBox="0 0 24 24" width="28px" fill="#a7a7a7">
                <path d="M0 0h24v24H0V0z" fill="none"/>
                <path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
            </svg>
        </button>
    </div>
    <div class="album-buttons-right">
        <button id="album-play" class="big-play-btn" aria-label="Play"></button>
    </div>
</div>
<div id="album-search-trigger" class="album-search-bar-trigger">
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#a7a7a7"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
    <span>Find in playlist</span>
</div>
<div class="album-tracks">
            <table>
                <tbody id="albumDetails-tracks"></tbody>
            </table>
        </div>
        
        <div id="similar-albums-section" class="spotifyPlaylists hidden"> <div class="section-heading">
                 <h1>You might also like</h1>
             </div>
             <div class="cardcontainer" id="similar-albums-container">
                 </div>
         </div>
        </div>

    <div id="album-compact-header" class="album-compact-header">
        <button class="compact-header-back-btn">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"/></svg>
        </button>
        <span id="compact-header-title">Album Title</span>
       
    </div>

    <div class="album-top-controls">
         <button class="close-overlay">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"/></svg>
        </button>
    </div>
    
    
    
    <div id="album-search-view" class="album-search-view">
        <div class="album-search-header">
            <button id="album-search-back-btn" class="album-search-back-btn">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg>
            </button>
            <input type="text" id="album-search-input" placeholder="Find in playlist" autocomplete="off">
            <button id="album-search-clear-btn" class="album-search-clear-btn hidden">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
            </button>
        </div>
        <div id="album-search-results" class="album-search-results">
            </div>
        <div id="album-no-search-results" class="album-no-search-results hidden">
             <h3>No results found for "<span id="no-results-query"></span>"</h3>
             <p>Check the spelling or try different keywords.</p>
        </div>
    </div>

    
    <div id="album-full-embed-container">
        
    </div>
</div>


           <div class="swarify-add-popup-overlay" id="add-popup-overlay">
        <div class="swarify-add-popup">
    <a href="#" class="swarify-add-popup-item" id="swarify-liked-songs-item">  
    <div class="swarify-add-popup-item-left">  
        <div class="swarify-add-popup-item-icon heart-bg">  
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#1DB954" width="24" height="24">  
                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5A5.4 5.4 0 0 1 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3A5.4 5.4 0 0 1 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />  
            </svg>  
        </div>  
        <span class="swarify-add-popup-item-text">Liked Songs</span>  
    </div>  
    
    <div id="popup-right-heart" class="swarify-add-popup-item-right-icon">
        <svg id="popup-heart-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" class="heart-icon">
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
        </svg>
    </div>
</a>
            <a href="#" class="swarify-add-popup-item">
                <div class="swarify-add-popup-item-left">
                    <div class="swarify-add-popup-item-icon plus-bg">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="24" height="24">
                            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
                        </svg>
                    </div>
                    <span class="swarify-add-popup-item-text">New playlist</span>
                </div>
            </a>
        </div>
    </div>

     <div id="compact-offline-banner" class="compact-offline-banner hidden">
        <span>You're offline</span>
    </div>
    <!-- Main Play Bar Container - Fixed at the bottom -->
    <div id="main-play-bar" class="fixed bottom-0 left-0 right-0 rounded-t-xl shadow-lg p-4 z-50">
        <div class="main-play-bar-inner bg-black rounded-xl p-3 flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0 md:space-x-4 w-full">

            <!-- Album Art and Song Info (Left Section) -->
            <div class="flex items-center w-full md:w-auto flex-grow">
                <img id="current-album-art"
                    src="https://placehold.co/64x64/4a4a4a/ffffff?text=Album"
                    alt="Album Art"
                    class="w-16 h-16 rounded-lg shadow-md flex-shrink-0"
                />
                <div class="ml-4 flex flex-col justify-center overflow-hidden flex-grow">
                    <span id="current-song-title" class="text-lg font-bold truncate">Song Title Example</span>
                    <span id="current-artist-name" class="text-sm text-gray-300 truncate">Artist Name</span>
                </div>

                
            </div>

            
            <!-- Mobile Add (+) Button with Check State -->
           <button id="mobile-add-btn" data-ignore-fullscreen class="md:hidden lg:hidden xl:hidden text-white playbar-add-btn">
    <svg class="icon-plus" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 5v14m-7-7h14" />
    </svg>

    <div class="icon-check-bg"></div>
    <svg class="icon-check" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="#000000" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path d="M20 6L9 17l-5-5" />
    </svg>
</button>

            <!-- Playback Controls (Center Section) -->
            <div id="player-controls-group" class="flex items-center justify-center space-x-4 w-full md:w-auto flex-shrink-0">
                <!-- Previous Track Button -->
                <button id="prev-track-btn" class="text-gray-300 hover:text-white transition-colors duration-200 p-2 rounded-full">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                        <path d="M11 6L5 12L11 18M19 6L13 12L19 18" />
                    </svg>
                </button>
                
                <!-- Rewind Button -->
                <button id="rewind-btn" class="text-gray-300 hover:text-white transition-colors duration-200 p-2 rounded-full">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                        <path fillRule="evenodd" d="M13.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L11.69 12 4.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5ZM19.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06L17.69 12l-6.97-6.97a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clipRule="evenodd" />
                    </svg>
                </button>

                <button id="play-pause-btn"
                    class="bg-green-500 text-white p-3 rounded-full shadow-lg hover:bg-green-600 transition-colors duration-200 flex items-center justify-center"
                >
                    <!-- Play icon by default, sc2.js will toggle -->
                    <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                        <path fillRule="evenodd" d="M4.5 5.653c0-1.427 1.529-2.38 2.872-1.667l11.55 6.416c1.427.79 1.427 2.893 0 3.683l-11.549 6.416c-1.344.713-2.872-.24-2.872-1.667V5.653Z" clipRule="evenodd" />
                    </svg>
                    <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 hidden">
                        <path fillRule="evenodd" d="M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z" clipRule="evenodd" />
                    </svg>
                </button>
                
                <!-- Fast Forward Button -->
                <button id="fast-forward-btn" class="text-gray-300 hover:text-white transition-colors duration-200 p-2 rounded-full">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                        <path fillRule="evenodd" d="M13.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L11.69 12 4.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5ZM19.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06L17.69 12l-6.97-6.97a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clipRule="evenodd" />
                    </svg>
                </button>

                <!-- Next Track Button -->
                <button id="next-track-btn" class="text-gray-300 hover:text-white transition-colors duration-200 p-2 rounded-full">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                        <path d="M13 6L19 12L13 18M5 6L11 12L5 18" />
                    </svg>
                </button>
            </div>

            

            <!-- Progress Bar and Volume (Right Section) -->
            <div class="flex items-center space-x-4 w-full md:w-auto md:flex-shrink-0 justify-end">
                <!-- Progress Bar -->
                <div id="progress-time-group" class="flex items-center w-full md:w-48 lg:w-64">
                    <!-- Styled time reflectors -->
                    <span id="current-time" class="text-sm font-semibold text-gray-300 w-10 text-right">0:00</span>
                    <input
                        type="range"
                        min="0"
                        max="100"
                        value="0"
                        id="progress-bar"
                        class="w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-green-500"
                    />
                    <span id="total-time" class="text-sm font-semibold text-gray-300 w-10 text-left">0:00</span>
                </div>
            </div>
        </div>
    </div>

    
         <!-- The main full-screen player container -->
  <div id="full-screen-player" class="flex flex-col p-4">
    <div class="full-screen-header flex justify-between items-center w-full flex-shrink-0">
        <button id="minimize-player-btn" class="p-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
        </button>
       <div class="text-center">
    <p id="full-screen-context-text" class="text-xs tracking-wider uppercase">Playing from Album</p>
    <p id="full-screen-source-text" class="font-bold text-sm">Album Title</p>
</div>
        <div class="w-10 h-10"></div>
    </div>

    <div class="full-screen-main-content flex-grow flex flex-col justify-center items-center w-full py-4">
       <img id="full-screen-album-art" src="https://i.scdn.co/image/ab67616d0000b273b33d4f35a265e18751532f6a" alt="Album Art" crossorigin="anonymous" class="w-full max-w-sm aspect-square rounded-lg shadow-2xl">
    </div>

    <div class="w-full max-w-sm mx-auto flex-shrink-0">
        <div class="flex justify-between items-center mb-4">
            <div>
                <h2 id="full-screen-song-title-large" class="text-2xl font-bold text-white truncate">Tere Dard Se Dil</h2>
                <p id="full-screen-artist-name-large" class="text-gray-300">Kumar Sanu</p>
            </div>
            <button id="full-screen-add-btn" class="text-green-400 p-2">
                 <svg class="icon-check h-7 w-7" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                    <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z" clip-rule="evenodd" />
                </svg>
                <svg class="icon-plus hidden h-7 w-7" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                   <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            </button>
        </div>

        <div class="full-screen-progress-section w-full">
            <input type="range" min="0" max="100" value="30" id="full-screen-progress-bar">
            <div class="flex justify-between text-xs text-gray-400 mt-1">
                <span id="full-screen-current-time">2:02</span>
                <span id="full-screen-total-time">4:51</span>
            </div>
        </div>

        <div class="full-screen-controls flex justify-between items-center w-full mt-4">
            
            <button id="full-prev-track-btn" class="p-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
            </button>
            <button id="full-play-pause-btn" class="bg-white text-black rounded-full p-4 mx-2">
                <svg id="full-play-icon" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 hidden" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                <svg id="full-pause-icon" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
            </button>
            <button id="full-next-track-btn" class="p-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
            </button>
            
        </div>
         <div id="full-screen-embed-info" class="hidden w-full max-w-sm mx-auto flex-shrink-0">
    <div class="flex flex-col items-center justify-center text-center p-4 mt-4">
        <p class="text-gray-300 mb-4">Playback is controlled directly on the player.</p>
        <button id="view-embedded-player-btn" class="bg-white text-black font-bold py-3 px-8 rounded-full hover:scale-105 transition-transform">
            View Player
        </button>
    </div>
</div>

        
        <div class="full-screen-bottom-actions flex justify-between items-center w-full mt-4">
            
        </div>
    </div>
</div>

        
    
    </div>

<div id="popup-overlay" class="popup-overlay invisible opacity-0">
    <div id="popup-container" class="popup-container">

        <button class="close-button" onclick="closePopup()">&#x2715;</button>

        <!-- Google Sign-In Initialization Div -->
        <div id="g_id_onload"
            data-client_id="292614491287-ogqrqnbvfe154houfqgt66iqo8ee662n.apps.googleusercontent.com"
            data-callback="handleGoogleSignIn" data-auto_prompt="false">
        </div>

        <div id="initial-choice-screen" class="popup-screen active">
            <div class="popup-content initial-choice-content">
                <div class="album-art-placeholder">
                    <img src="https://raw.githubusercontent.com/jhasonu7/music-album/3585410edf2502fc38ef75f4c3988eaa14a5102e/Screenshot%202025-07-08%20105523.png" alt="Album Art"
                        class="album-art-image">
                </div>
                <div class="initial-choice-text">
                    <h2>Start listening with a free Swarify account</h2>
                    <button class="main-button green-button" id="initial-signup-btn">Sign up for free</button>
                    <button class="main-button transparent-button">Download app</button>
                    <p class="small-text">Already have an account? <a href="#" id="initial-login-link">Log
                                in</a></p>
                </div>
            </div>
        </div>

        <div id="login-screen" class="popup-screen">
            <button class="prev-button" id="login-back-btn">&#8592;</button>
            <div class="popup-content">
                <div class="log2">
                    <img width="110" src="logo2.svg" alt="">
                </div>

                <h2>Log in to Swarify</h2>

                <!-- Google Sign-In Button for Login Screen -->
                <div class="g_id_signin auth-button google-button" data-type="standard" data-size="large"
                    data-theme="filled_blue"
                    data-text="signin_with"
                    data-shape="rectangular"
                    data-logo_alignment="left"
                    data-width="100%">                    
                </div>
                
                
                <button class="auth-button phone-button" id="login-phone-otp-btn">
                    Continue with phone number (OTP)
                </button>
                <button class="auth-button phone-button" id="login-phone-password-btn">
                    Login with phone number (Password)
                </button>


                <div class="separator"><span>or</span></div>

                <div class="input-group">
                    <label for="login-email-username">Email or username</label>
                    <input type="text" id="login-email-username" placeholder="Email or username">
                </div>
                <div class="input-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" placeholder="Password">
                    <p class="small-text text-right mt-2"><a href="#" id="forgot-password-link">Forgot your password?</a></p>
                </div>
                <button class="main-button green-button" id="login-continue-button">Continue</button>

                <p class="small-text">Don't have an account? <a href="#" id="login-signup-link">Sign up for
                                Swarify</a></p>
            </div>
        </div>

        <div id="signup-screen" class="popup-screen">
            <button class="prev-button" id="signup-back-btn">&#8592;</button>
            <div class="popup-content">
                <div class="log2">
                    <img width="110" src="logo2.svg" alt="">
                </div>
                <h2>Sign up to start listening</h2>

                <div class="input-group">
                    <label for="signup-email">Email address</label>
                    <input type="email" id="signup-email" placeholder="name@domain.com">
                    <p class="small-text"><a href="#" id="signup-use-phone-link">Use phone number instead.</a></p>
                </div>
                <div class="input-group">
                    <label for="signup-password">Create a password</label>
                    <input type="password" id="signup-password" placeholder="Password">
                </div>

                <button class="main-button green-button" id="signup-next-button">Next</button>

                <div class="separator"><span>or</span></div>

                <!-- Google Sign-In Button for Signup Screen -->
                <div class="g_id_signin auth-button google-button" data-type="standard" data-size="large"
                    data-theme="filled_blue"
                    data-text="signup_with"
                    data-shape="rectangular"
                    data-logo_alignment="left"
                    data-width="100%">
                </div>

                <p class="small-text">Already have an account? <a href="#" id="signup-login-link">Log in</a>
                </p>
            </div>
        </div>

        <div id="phone-signup-screen" class="popup-screen">
            <button class="prev-button" id="phone-signup-back-btn">&#8592;</button>
            <div class="popup-content">
                <div class="log2">
                    <img width="110" src="logo2.svg" alt="">
                </div>
                <h2>Sign up with phone number</h2>
                <div class="input-group">
                    <label for="phone-number-signup">Phone number</label>
                    <input type="tel" id="phone-number-signup" placeholder="+1 (555) 555-5555">
                </div>
                <div class="input-group">
                    <label for="phone-signup-password">Create a password</label>
                    <input type="password" id="phone-signup-password" placeholder="Password">
                </div>
                <button class="main-button green-button" id="phone-signup-next-button">Next</button>
                <p class="small-text"><a href="#" id="phone-signup-use-email-link">Use email instead.</a></p>
                <p class="small-text">Already have an account? <a href="#" id="phone-signup-login-link">Log in</a>
                </p>
            </div>
        </div>

        <div id="phone-login-screen" class="popup-screen">
            <button class="prev-button" id="phone-login-back-btn">&#8592;</button>
            <div class="popup-content">
                <div class="log2">
                    <img width="110" src="logo2.svg" alt="">
                </div>
                <h2>Log in with phone number</h2>
                <div class="input-group">
                    <label for="phone-number-login">Phone number</label>
                    <input type="tel" id="phone-number-login" placeholder="+1 (555) 555-5555">
                </div>
                <div class="input-group">
                    <label for="phone-login-password">Password</label>
                    <input type="password" id="phone-login-password" placeholder="Password">
                    <p class="small-text text-right mt-2"><a href="#" id="phone-forgot-password-link">Forgot your password?</a></p>
                </div>
                <button class="main-button green-button" id="phone-login-continue-button">Continue</button>
                <p class="small-text">Don't have an account? <a href="#" id="phone-login-signup-link">Sign up for
                                Swarify</a></p>
            </div>
        </div>

        <div id="phone-otp-input-screen" class="popup-screen">
            <button class="prev-button" id="phone-otp-back-btn">&#8592;</button>
            <div class="popup-content">
                <div class="log2">
                    <img width="110" src="logo2.svg" alt="">
                </div>
                <h2>Login with Phone (OTP)</h2>
                <div class="input-group">
                    <label for="otp-phone-number-input">Phone number</label>
                    <input type="tel" id="otp-phone-number-input" placeholder="+1 (555) 555-5555">
                </div>
                <button class="main-button green-button" id="send-otp-button">Send OTP</button>
                <p class="small-text">Already have an account? <a href="#" onclick="showLoginScreen()">Log in with
                                password</a></p>
            </div>
        </div>

        <!-- NEW: Forgot Password Input Screen -->
        <div id="forgot-password-input-screen" class="popup-screen">
            <button class="prev-button" id="forgot-password-back-btn">&#8592;</button>
            <div class="popup-content">
                <div class="log2">
                    <img width="110" src="logo2.svg" alt="">
                </div>
                <h2>Reset Your Password</h2>
                <p class="small-text">Enter the email address or phone number associated with your account to receive a verification code.</p>
                <div class="input-group">
                    <label for="forgot-password-identifier-input">Email or Phone Number</label>
                    <input type="text" id="forgot-password-identifier-input" placeholder="Email or Phone Number">
                </div>
                <button class="main-button green-button" id="send-password-reset-otp-button">Send Verification Code</button>
                <p class="small-text">Remember your password? <a href="#" id="forgot-password-login-link">Log in</a></p>
            </div>
        </div>

        <div id="otp-verification-screen" class="popup-screen">
            <button class="prev-button" id="otp-verification-back-btn">&#8592;</button>
            <div class="popup-content">
                <div class="log2">
                    <img width="110" src="logo2.svg" alt="">
                </div>
                <h2 id="otp-verification-title">Verify OTP</h2>
                <p id="otp-verification-message" class="small-text">An OTP has been sent to your device. Please enter it below.</p>
                <div class="input-group">
                    <label for="otp-code-input">Enter OTP</label>
                    <input type="text" id="otp-code-input" placeholder="XXXXXX">
                </div>
                <p id="otp-timer-display" class="small-text">OTP valid for: 02:00</p>
                <button class="main-button green-button" id="verify-otp-button">Verify OTP</button>
                <button class="secondary-button" id="resend-otp-button" style="display: none;">Resend OTP</button>
                <p class="small-text">Didn't receive OTP? Check your backend console.</p>
            </div>
        </div>

        <div id="email-otp-input-screen" class="popup-screen">
            <button class="prev-button" id="email-otp-back-btn">&#8592;</button>
            <div class="popup-content">
                 <div class="log2">
                    <img width="110" src="logo2.svg" alt="">
                </div>
                <h2>Verify Your Email</h2>
                <p class="small-text">An OTP has been sent to <strong id="email-otp-display-email"></strong>. Please enter it below.</p>
                <div class="input-group">
                    <input type="text" id="email-otp-code-input" placeholder="Enter 6-digit OTP" maxlength="6"
                        pattern="\d{6}" inputmode="numeric">
                </div>
                <div class="otp-timer">
                    <span id="email-otp-timer-display">OTP valid for: 02:00</span>
                    <button id="resend-email-otp-button" class="resend-button" style="display: none;">Resend
                        OTP</button>
                </div>
                <button id="verify-email-otp-button" class="main-button green-button">Verify OTP</button>
                <div class="separator"></div>
                <p class="small-text">Did not receive the email? Check your spam folder.</p>
            </div>
        </div>

        <div id="create-password-screen" class="popup-screen">
            <button class="prev-button" id="create-password-back-btn">&#8592;</button>
            <div class="popup-content">
                <div class="log2">
                    <img width="110" src="logo2.svg" alt="">
                </div>
                <h2 id="create-password-title">Create a password</h2>
                <p class="small-text">Set a password for future logins with your email.</p>
                <div class="input-group">
                    <label for="new-password">Password</label>
                    <input type="password" id="new-password" placeholder="Create a password" required>
                </div>
                <div class="input-group">
                    <label for="confirm-password">Confirm Password</label>
                    <input type="password" id="confirm-password" placeholder="Confirm your password" required>
                </div>
                <button id="set-new-password-button" class="main-button green-button">Set Password</button>
            </div>
        </div>

        <!-- NEW: Complete Profile Screen -->
        <div id="complete-profile-screen" class="popup-screen">
            <button class="prev-button" id="complete-profile-back-btn">&#8592;</button>
            <div class="popup-content">
                <div class="log2">
                    <img width="110" src="logo2.svg" alt="">
                </div>
                <h2>Complete Your Profile</h2>
                <p class="small-text">Just a few more details to get started!</p>
                <div class="input-group">
                    <label for="profile-name-input">Your Name</label>
                    <input type="text" id="profile-name-input" placeholder="Enter your full name">
                </div>
                <div class="input-group">
                    <label for="profile-dob-input">Date of Birth</label>
                    <input type="date" id="profile-dob-input">
                </div>
                <button class="main-button green-button" id="complete-profile-submit-button">Continue</button>
            </div>
        </div>

    </div>
</div>

<!-- This button is for testing user count, can be removed or placed elsewhere -->
<button id="test-user-count-btn" class="hidden" style="position: fixed; bottom: 80px; left: 20px; background-color: #555; color: white; padding: 10px; border-radius: 5px; z-index: 999;">Test User Count (Admin)</button>

<!-- User Avatar Container and Dropdown (Add this to your main HTML, outside the popup) -->
<!-- This should ideally be in your main header/navigation area -->
<div id="user-avatar-container" class="user-avatar-container hidden">
    <div id="user-avatar" class="user-avatar">G</div> <!-- Initial 'G' for Guest or first letter of name -->
    <div id="user-dropdown" class="user-dropdown">
        <span id="dropdown-username" class="dropdown-username"></span>
        <button id="dropdown-logout-btn" class="dropdown-logout-btn">Logout</button>
    </div>
</div>

  <div id="unique-search-popup" class="unique-search-popup unique-hidden">
    <div class="unique-container">
        <header class="unique-popup-header">
            <button id="unique-close-search-popup" class="unique-close-button">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="unique-icon">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <h2 class="unique-popup-title">Search</h2>
        </header>

        <div class="unique-search-input-container">
            <input type="text" placeholder="What do you want to listen to?" class="unique-search-input">
            <svg xmlns="http://www.w3.org/2000/svg" class="unique-search-icon-input" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
        </div>

        <h3 class="unique-browse-all-title">Browse all</h3>
        <!-- This is the container for the search results -->
        <div id="unique-search-results-container"></div>
        <div class="unique-card-grid">
            <div class="unique-card unique-card-music">
                <span class="unique-card-title">Music</span>
                <img src="https://placehold.co/100x100/ffffff/000000?text=+" alt="Music" class="unique-card-image">
            </div>
            <div class="unique-card unique-card-podcasts">
                <span class="unique-card-title">Podcasts</span>
                <img src="https://placehold.co/100x100/ffffff/000000?text=+" alt="Podcasts" class="unique-card-image">
            </div>
            <div class="unique-card unique-card-live-events">
                <span class="unique-card-title">Live Events</span>
                <img src="https://placehold.co/100x100/ffffff/000000?text=+" alt="Live Events" class="unique-card-image">
            </div>
            <div class="unique-card unique-card-made-for-you">
                <span class="unique-card-title">Made For You</span>
                <img src="https://placehold.co/100x100/ffffff/000000?text=+" alt="Made For You" class="unique-card-image">
            </div>
            <div class="unique-card unique-card-new-releases">
                <span class="unique-card-title">New Releases</span>
                <img src="https://placehold.co/100x100/ffffff/000000?text=+" alt="New Releases" class="unique-card-image">
            </div>
            <div class="unique-card unique-card-rain-monsoon">
                <span class="unique-card-title">Rain & Monsoon</span>
                <img src="https://placehold.co/100x100/ffffff/000000?text=+" alt="Rain & Monsoon" class="unique-card-image">
            </div>
            <div class="unique-card unique-card-hindi">
                <span class="unique-card-title">Hindi</span>
                <img src="https://placehold.co/100x100/ffffff/000000?text=+" alt="Hindi" class="unique-card-image">
            </div>
            <div class="unique-card unique-card-music">
                <span class="unique-card-title">Music</span>
                <img src="https://placehold.co/100x100/ffffff/000000?text=+" alt="Music" class="unique-card-image">
            </div>
            <div class="unique-card unique-card-podcasts">
                <span class="unique-card-title">Podcasts</span>
                <img src="https://placehold.co/100x100/ffffff/000000?text=+" alt="Podcasts" class="unique-card-image">
            </div>
            <div class="unique-card unique-card-live-events">
                <span class="unique-card-title">Live Events</span>
                <img src="https://placehold.co/100x100/ffffff/000000?text=+" alt="Live Events" class="unique-card-image">
            </div>
            <div class="unique-card unique-card-made-for-you">
                <span class="unique-card-title">Made For You</span>
                <img src="https://placehold.co/100x100/ffffff/000000?text=+" alt="Made For You" class="unique-card-image">
            </div>
            <div class="unique-card unique-card-telugu">
                <span class="unique-card-title">Telugu</span>
                <img src="https://placehold.co/100x100/ffffff/000000?text=+" alt="Telugu" class="unique-card-image">
            </div>
        </div>
    </div>
</div>
<div id="overlay" class="unclickable-overlay"></div>
<footer class="unique-footer-nav">
    <nav class="unique-nav-container">
        <ul class="unique-nav-list">
            <li class="unique-nav-item">
                <a href="#" class="unique-nav-link unique-active"  data-target="home">
                    <svg xmlns="http://www.w3.org/2000/svg" class="unique-nav-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2L2 12h3v8h6v-6h2v6h6v-8h3L12 2zm0 2.293L18.707 9H17v8h-4v-6h-2v6H7V9H5.293L12 4.293z"/>
                    </svg>
                    <span class="unique-nav-text">Home</span>
                </a>
            </li>
            <li class="unique-nav-item">
                <a href="#" id="unique-search-icon-link" class="unique-nav-link" data-target="search">
                    <svg xmlns="http://www.w3.org/2000/svg" class="unique-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                    <span class="unique-nav-text">Search</span>
                </a>
            </li>
            <li class="unique-nav-item">
                <a href="#"  id="your-library-link" class="unique-nav-link" data-target="library">
                    <svg xmlns="http://www.w3.org/2000/svg" class="unique-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                        <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                        <path d="M12 11h2l-2 5v4"></path>
                    </svg>
                    <span class="unique-nav-text">Your Library</span>
                </a>
            </li>
            <li class="unique-nav-item">
                <a href="#" class="unique-nav-link" data-target="premium">
                    <svg xmlns="http://www.w3.w3.org/2000/svg" class="unique-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                        <path d="M2 17l10 5 10-5"></path>
                        <path d="M2 12l10 5 10-5"></path>
                    </svg>
                    <span class="unique-nav-text">Premium</span>
                </a>
            </li>
        </ul>
    </nav>
</footer>


   
    <audio id="voice-start-sound" src="" preload="auto"></audio>
<audio id="voice-end-sound" src="path/to/your/end-listening.mp3" preload="auto"></audio>


<!-- Your Library Popup -->
<div id="library-popup" class="fixed inset-0 bg-[#121212] text-white hidden z-[9999] overflow-y-auto">
  <div class="flex justify-between items-center p-4 border-b border-gray-700">
    <h1 class="text-2xl font-bold">Your Library</h1>
    <button id="close-library-popup" class="text-3xl leading-none">&times;</button>
  </div>

  <div class="p-4">
    <!-- Example buttons -->
    <div class="mb-4">
      <button class="bg-[#2a2a2a] hover:bg-[#3e3e3e] text-white px-4 py-2 rounded-full text-sm font-medium">Playlists</button>
    </div>

    <!-- Recents -->
    <div class="flex justify-between items-center mb-3">
      <p class="text-gray-400 text-sm font-medium">Recents</p>
      <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <rect x="3" y="3" width="7" height="7"></rect>
        <rect x="14" y="3" width="7" height="7"></rect>
        <rect x="14" y="14" width="7" height="7"></rect>
        <rect x="3" y="14" width="7" height="7"></rect>
      </svg>
    </div>

    <!-- Library Items -->
    <div class="space-y-2">
      <!-- Liked Songs -->
      <div class="flex items-center p-2 rounded-lg hover:bg-[#282828] cursor-pointer">
        <div class="w-12 h-12 rounded bg-gradient-to-br from-purple-900 to-purple-500 flex items-center justify-center mr-3">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="#fff">
            <path d="M12 21.35L10.55 20.03C5.4 15.36 2 12.28 2 8.5C2 5.42 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.09C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.42 22 8.5C22 12.28 18.6 15.36 13.45 20.03L12 21.35Z"/>
          </svg>
        </div>
        <div>
          <h3 class="text-base font-medium">Liked Songs</h3>
          <p class="text-sm text-gray-400">Playlist • 1 song</p>
        </div>
      </div>

       <div id="user-playlists-container" class="space-y-2">
        </div>

      <!-- Add Artists -->
      <div class="flex items-center p-2 rounded-lg hover:bg-[#282828] cursor-pointer">
        <div class="w-12 h-12 rounded border border-gray-600 flex items-center justify-center mr-3">
          <svg width="24" height="24" viewBox="0 0 24 24" stroke="white" stroke-width="2" fill="none">
            <path d="M12 4V20M4 12H20" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <h3 class="text-base font-medium">Add artists</h3>
      </div>

      <!-- Add Podcasts -->
      <div class="flex items-center p-2 rounded-lg hover:bg-[#282828] cursor-pointer">
        <div class="w-12 h-12 rounded border border-gray-600 flex items-center justify-center mr-3">
          <svg width="24" height="24" viewBox="0 0 24 24" stroke="white" stroke-width="2" fill="none">
            <path d="M12 4V20M4 12H20" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <h3 class="text-base font-medium">Add podcasts</h3>
      </div>
    </div>
  </div>
</div>


<div id="likedSongsOverlay" class="liked-songs-overlay" aria-hidden="true">
    
    <div class="liked-header-wrapper">
        <div class="liked-header">
            <div class="liked-header-top">
                <button id="closeLikedSongs" class="back-arrow-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24"><path d="M19 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H19v-2z"></path></svg>
                </button>
                <div style="flex:1;">
                    <h1>Liked Songs</h1>
                    <p id="likedSongsCount">0 songs</p>
                </div>
            </div>
        </div>

        <div id="likedSongsCompactHeader" class="liked-compact-header">
            <button id="closeLikedSongsCompact" class="back-arrow-btn">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24"><path d="M19 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H19v-2z"></path></svg>
            </button>
            <h1>Liked Songs</h1>
        </div>

        <div class="liked-play-btn-wrapper">
    <div id="liked-songs-play-btn" class="liked-play-btn">
        <svg class="play-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="28" height="28"><path d="M8 5v14l11-7z"></path></svg>
        <svg class="pause-icon hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="28" height="28"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg>
    </div>
</div>

        <div id="likedSongsSearchContainer" class="liked-search-container">
            <button id="closeLikedSongsSearch" class="back-arrow-btn">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24" height="24"><path d="M19 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H19v-2z"></path></svg>
            </button>
            <div class="search-input-wrapper">
                 <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg>
                <input type="text" id="likedSongsSearchInput" placeholder="Find in Liked Songs">
                <button id="clearLikedSearch" class="clear-search-btn">&times;</button>
            </div>
        </div>
    </div>
    
    <div id="likedContent" class="liked-content">
        <div id="likedSongsList">
            </div>
        <div id="noResultsMessage" class="no-results-message">
            <h3 id="noResultsQuery"></h3>
            <p>Check the spelling or try different keywords.</p>
        </div>
    </div>
</div>
<div id="song-options-popup" class="song-options-popup-backdrop" aria-hidden="true">
    <div class="song-options-panel">
        <div class="popup-song-info">
            <img id="popup-song-cover" src="" alt="Album Cover">
            <div class="popup-text-content">
                <div id="popup-song-title" class="popup-title"></div>
                <div id="popup-song-artist" class="popup-artist"></div>
            </div>
        </div>
        <button id="popup-share-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="18" cy="5" r="3"></circle>
                <circle cx="6" cy="12" r="3"></circle>
                <circle cx="18" cy="19" r="3"></circle>
                <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
            </svg>
            <span>Share</span>
        </button>
        <button id="popup-add-to-other-playlist">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 5v14M5 12h14"></path>
            </svg>
            <span>Add to other playlist</span>
        </button>
        <button id="popup-remove-from-liked">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="8" y1="12" x2="16" y2="12"></line>
            </svg>
            <span>Remove from this playlist</span>
        </button>
        <button id="popup-go-to-album">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20z"></path>
                <circle cx="12" cy="12" r="5"></circle>
            </svg>
            <span>Go to album</span>
        </button>
    </div>
</div>

<div id="new-playlist-popup-overlay" class="fixed inset-0 bg-black bg-opacity-75 hidden z-[99999] justify-center items-center">
  <div class="new-playlist-popup-container p-6 rounded-lg text-center" style="background-color: rgba(20,20,20,0.95);">
    <h2 class="text-white text-xl font-bold mb-6">Give your playlist a name</h2>
    <input type="text" id="new-playlist-name-input" placeholder="My playlist #1" class="w-full text-center bg-transparent border-b-2 border-white text-white text-3xl outline-none mb-8 pb-2" style="font-family: Inter, sans-serif;">
    <div class="flex justify-around">
      <button id="cancel-new-playlist" class="text-white px-6 py-2 rounded-full font-bold">Cancel</button>
      <button id="create-new-playlist" class="bg-[#1ED760] text-black px-8 py-2 rounded-full font-bold">Create</button>
    </div>
  </div>
</div>

<!-- This is the updated content for your playlist-details-overlay div -->
<div id="playlist-details-overlay" class="fixed inset-0 bg-[#121212] text-white hidden z-[9999]">

    <!-- This div will hold the dynamic background gradient -->
    <div id="playlist-background-gradient" class="absolute top-0 left-0 w-full h-full z-0"></div>

    <!-- Main scrollable container -->
    <div id="playlist-scroll-content" class="relative w-full h-full overflow-y-auto z-10">

        <!-- 1. Compact Header (Sticky, appears on scroll) -->
        <div id="playlist-compact-header" class="sticky top-0 z-20 flex items-center justify-between p-4 bg-transparent shadow-lg">
            <!-- Back button for compact header -->
            <button id="playlist-compact-back-btn" class="p-2 -ml-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
            </button>
            <h2 id="playlist-compact-title" class="text-lg font-bold truncate">Playlist Name</h2>
            <button id="playlist-compact-play-btn" class="bg-[#1ED760] text-black w-12 h-12 rounded-full flex items-center justify-center shadow-lg hover:scale-105 transition-transform">
                <svg viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7"><path d="M8 5v14l11-7z"></path></svg>
            </button>
        </div>

        <!-- 2. Main Content (Scrollable part) -->
        <div id="playlist-details-scroll-container" class="relative z-10">
            <!-- Main back button (visible at the top) -->
            <button id="playlist-main-back-btn" class="absolute top-4 left-4 p-2 z-20">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
            </button>
            
            <!-- **FIX**: Reduced top padding from pt-20 to pt-16 -->
            <div id="playlist-header-content" class="flex flex-row items-end gap-6 mb-6 pt-16 p-4">
                <img id="playlist-cover-art" src="https://placehold.co/192x192/4a4a4a/ffffff?text=Playlist" alt="Playlist Cover" class="w-48 h-48 rounded-lg shadow-2xl object-cover flex-shrink-0">
                <div class="text-left">
                    <p class="text-sm font-bold">Playlist</p>
                    <h1 id="playlist-title-h1" class="text-6xl font-extrabold mb-2 break-words">My Playlist</h1>
                    <div class="flex items-center justify-start gap-2 text-sm text-gray-300">
                        <div id="playlist-creator-avatar" class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center font-bold text-black text-xs">S</div>
                        <span id="playlist-creator-name">Sonu</span>
                    </div>
                    <p id="playlist-duration-info" class="text-xs text-gray-400 mt-2">5 min</p>
                </div>
            </div>

            <div class="flex items-center space-x-4 mb-4 px-4">
                <button class="action-icon-btn"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></button>
                <button class="action-icon-btn"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><path d="M20 8v6"/><path d="M23 11h-6"/></svg></button>
                <button class="action-icon-btn"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg></button>
                <div class="flex-grow"></div>
                <button id="playlist-play-btn" class="bg-[#1ED760] text-black w-14 h-14 rounded-full flex items-center justify-center shadow-lg hover:bg-green-600 transition-colors">
                    <svg viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8"><path d="M8 5v14l11-7z"/></svg>
                </button>
            </div>

            <div class="px-4 mb-4">
                <button id="playlist-search-trigger" class="w-full flex items-center gap-3 text-left p-3 bg-white/10 hover:bg-white/20 rounded-md text-gray-300 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" /></svg>
                    Find in playlist
                </button>
            </div>

            <div id="playlist-songs-container" class="space-y-2 px-4"></div>
            <div class="recommended-songs-list mt-8 px-4 pb-24">
                <h2 class="text-2xl font-bold mb-4">Recommended Songs</h2>
                <p class="text-sm text-gray-400 mb-4">Based on the songs in this playlist</p>
                <div id="recommended-songs-container" class="space-y-2"></div>
            </div>
        </div>
    </div>

    <!-- Search View (Covers everything when active) -->
    <div id="playlist-search-view" class="absolute inset-0 bg-[#121212] z-30 hidden flex-col">
        <!-- Search view content from previous step remains the same -->
        <div class="flex items-center p-2 gap-2 border-b border-gray-800">
            <button id="playlist-search-back-btn" class="p-2 text-white">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
            </button>
            <input type="text" id="playlist-search-input" placeholder="Find in playlist" class="w-full bg-transparent text-white text-lg outline-none">
            <button id="playlist-clear-search-btn" class="p-2 text-gray-400 hidden">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
            </button>
        </div>
        <div id="playlist-search-results" class="flex-grow overflow-y-auto p-2"></div>
        <div id="playlist-no-search-results" class="text-center p-8 hidden">
            <h3 class="text-2xl font-bold text-white">No results found for "<span id="no-results-query"></span>"</h3>
            <p class="text-gray-400 mt-2">Check the spelling or try different keywords.</p>
        </div>
    </div>
</div>

<div id="add-to-playlist-overlay" class="fixed inset-0 bg-[#0c0c0c] text-white hidden z-[10000] flex flex-col transition-transform duration-300 ease-in-out transform translate-y-full">
    <div class="p-4 flex items-center border-b border-gray-800 flex-shrink-0">
        <button id="close-add-to-playlist-btn" class="text-2xl p-2 -ml-2">&larr;</button>
        <h1 class="text-xl font-bold text-center flex-grow">Add to playlist</h1>
        <div class="w-8"></div> </div>

    <div class="p-4 flex-shrink-0">
        <button id="new-playlist-from-add-screen" class="w-full flex items-center justify-center gap-4 py-4 px-2 rounded-lg hover:bg-[#282828] transition-colors">
            <div class="w-16 h-16 bg-gray-800 flex items-center justify-center rounded-md">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
            </div>
            <span class="text-lg font-semibold">New playlist</span>
        </button>
    </div>

    <div id="playlist-selection-container" class="flex-grow overflow-y-auto px-4 space-y-3 pb-4">
        </div>

    <div class="p-4 mt-auto border-t border-gray-800 bg-[#0c0c0c] shadow-lg">
        <button id="done-adding-to-playlist-btn" class="w-full bg-[#1ED760] text-black py-3 rounded-full font-bold text-lg hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed" disabled>Done</button>
    </div>
</div>

<div id="record-breaking-popup-overlay" class="fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm z-[10000] hidden items-center justify-center p-4">
    <div class="bg-[#121212] rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col">
        <div class="flex justify-between items-center p-4 border-b border-gray-700 flex-shrink-0">
            <h2 class="text-xl font-bold text-white">Record Breaking Albums</h2>
            <button id="close-record-breaking-popup" class="text-gray-400 hover:text-white text-3xl">×</button>
        </div>
        <div id="record-breaking-popup-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 p-4 overflow-y-auto">
            </div>
    </div>
</div>



<div id="record-breaking-popup-overlay2" class="fixed inset-0 bg-black bg-opacity-80 backdrop-blur-sm z-[10000] hidden items-center justify-center p-4">
    <div class="bg-[#121212] rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col">
        <div class="flex justify-between items-center p-4 border-b border-gray-700 flex-shrink-0">
            <h2 class="text-xl font-bold text-white">Popular Artist</h2>
            <button id="close-record-breaking-popup2" class="text-gray-400 hover:text-white text-3xl">×</button>
        </div>
        <div id="record-breaking-popup-grid2" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 p-4 overflow-y-auto">
            </div>
    </div>
</div>



    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.2/color-thief.umd.js"></script>



  
       <script src="oc.js"></script>
    <script src="script.js"></script>
   


  

<div id="messageBox" class="message-box"></div>
</body>
</html>

